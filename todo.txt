- optimizations
    - ignore weak data vectors in both dimensions
    - optimize number of samples (as a prep for full 2D modes)
    - shift to pytorch
    - shift to cuda

- get mode picture at any place in the cavity (in both directions)
- see how picture depends on the pump power

- Auto seach for stable solution
    - Set scores for state estimation (pulse width, peak power, pulse power)
    - Automatic process
        - Select 1 parameter (dispersion, shift, kerr)
        - Select shift (like 0.1)
        - Select attempts (like 10 +/-)
        - Select counts (like 1000) also report count (like 100)
        - Select score (peak, width, power)
        - Record current state and for each attempt
            - restore saved beamType
            - 


- compare physical parameters reality vs. simulation 

V cavity building in calculator and using in other places
    V using Guassian Q parameter propogation

V recored revert
    V allow recording of current status
    V save parameteres of good runs


- Maxwell Bloch method
    - Separate two beam with two different polarizaration
    - Window for zooming on graphs
    - spread gain and 

ssh -f -N -L 13389:132.71.147.168:3389 -l levyose1 vpn.esc.biu.ac.il -p 2222


[{"name":"basic 1D","date":1750247576961,"state":0,"obj":{"name":"basic 1D","beamType":1,"initialRange":"0.001","seed":"34563","aperture":"0.000156","diffractionWaist":"3e-05","epsilon":"5.8","gainFactor":"0.5","dispersionFactor":"0.45","lensingFactor":"1.0","modulationGainFactor":"0.0","isFactor":"15000.0","crystalShift":"9.9e-05","reportEveryStep":"100","stepsCounter":"2000"}}]

[{"name":"1D with 0.002 range","date":1750249339730,"state":0,"obj":{"name":"1D with 0.002 range","beamType":1,"initialRange":"0.002","seed":"34563","aperture":"0.000156","diffractionWaist":"3e-05","epsilon":"5.8","gainFactor":"0.5","dispersionFactor":"0.45","lensingFactor":"1.0","modulationGainFactor":"0.0","isFactor":"10000.0","crystalShift":"0.0001","reportEveryStep":"100","stepsCounter":"6000"}}]

[{"name":"Basic Radial","date":1750257417095,"state":0,"obj":{"name":"Basic Radial","beamType":0,"initialRange":"0.0001","seed":"65688","aperture":"0.000156","diffractionWaist":"6e-05","epsilon":"5.8","gainFactor":"0.5","dispersionFactor":"1.5","lensingFactor":"1.0","modulationGainFactor":"0.0","isFactor":"10000.0","crystalShift":"9e-05","reportEveryStep":"250","stepsCounter":"5000"}}]

- diode simulation
    - RF analysis of pulse train
    - Store and recall parameters Set
    - Flexible siplay of graphs (full, part, none)
    - Calculate experimental actual parameters (maybe measure)
    - Add position of SA, OC and Gain
    - Next level
        - more gain positions (and maybe absorber positions)
        

[{"name":"LIN basic 2 pulses","form":"diodeDynamicsOptionsForm","date":1758468900557,"state":0,"obj":{"name":"LIN basic 2 pulses","form":"diodeDynamicsOptionsForm","CalcDiodeCavityType":1,"CalcDiodeSelectMode":0,"CalcDiodeSelectIntensity":2,"DiodeRounds":"100","DiodeSelectSampling":2,"DiodePulseWidth":"100.0","Ta":"3000.0","Pa":"2.48e+19","Ga":"1.024e-09","N0a":"20000000000.0","start_gain":"74400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"30000000000.0","start_absorber":"0.0","dt":"0.2441","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"4.5","CalcDiodeUpdatePulse":0}},{"name":"LIN basic 4 pulses","form":"diodeDynamicsOptionsForm","date":1758468955138,"state":0,"obj":{"name":"LIN basic 4 pulses","form":"diodeDynamicsOptionsForm","CalcDiodeCavityType":1,"CalcDiodeSelectMode":0,"CalcDiodeSelectIntensity":2,"DiodeRounds":"1","DiodeSelectSampling":2,"DiodePulseWidth":"100.0","Ta":"3000.0","Pa":"5.48e+19","Ga":"1.024e-09","N0a":"20000000000.0","start_gain":"74400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"30000000000.0","start_absorber":"0.0","dt":"0.2441","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"4.5","CalcDiodeUpdatePulse":0}},{"name":"lin amp 3 pulses","form":"diodeDynamicsOptionsForm","date":1759590745806,"state":0,"obj":{"name":"lin amp 3 pulses","form":"diodeDynamicsOptionsForm","DiodeSelectSampling":2,"CalcDiodeCavityType":1,"CalcDiodeSelectMode":1,"DiodePulseWidth":"100.0","CalcDiodeSelectIntensity":0,"DiodeAbsorberShift":"190.0","DiodeGainShift":"11.0","DiodeOutputCouplerShift":"130.0","Ta":"3000.0","gain_width":"500.0","Pa":"2.48e+19","Ga":"5.024e-09","N0a":"20000000000.0","start_gain":"74400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"30000000000.0","start_absorber":"0.0","dt":"0.2441","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"6.0","CalcDiodeUpdatePulse":0}}]
[{"name":"Basic 1D","form":"multiTimeOptionsForm","date":1759043288415,"state":0,"obj":{"name":"Basic 1D","form":"multiTimeOptionsForm","lambdaNM":"1064","beamType":1,"initialRange":"0.001","seed":"34563","aperture":"0.000156","diffractionWaist":"3e-05","epsilon":"5.8","gainFactor":"0.5","dispersionFactor":"0.45","lensingFactor":"1.0","modulationGainFactor":"0.0","isFactor":"15000.0","crystalShift":"9.9e-05","reportEveryStep":"100","stepsCounter":"2000"}},{"name":"1D with 0.002 range","form":"multiTimeOptionsForm","date":1759043382551,"state":0,"obj":{"name":"1D with 0.002 range","form":"multiTimeOptionsForm","lambdaNM":"1064","beamType":1,"initialRange":"0.002","seed":"34563","aperture":"0.000156","diffractionWaist":"3e-05","epsilon":"5.8","gainFactor":"0.5","dispersionFactor":"0.45","lensingFactor":"1.0","modulationGainFactor":"0.0","isFactor":"10000.0","crystalShift":"0.0001","reportEveryStep":"100","stepsCounter":"6000"}},{"name":"Basic Radial","form":"multiTimeOptionsForm","date":1759043416311,"state":0,"obj":{"name":"Basic Radial","form":"multiTimeOptionsForm","lambdaNM":"1064","beamType":0,"initialRange":"0.0001","seed":"65688","aperture":"0.000156","diffractionWaist":"6e-05","epsilon":"5.8","gainFactor":"0.5","dispersionFactor":"1.5","lensingFactor":"1.0","modulationGainFactor":"0.0","isFactor":"10000.0","crystalShift":"9e-05","reportEveryStep":"250","stepsCounter":"5000"}},{"name":"Radial with confusing dispersion behavior","form":"multiTimeOptionsForm","date":1759043441007,"state":0,"obj":{"name":"Radial with confusing dispersion behavior","form":"multiTimeOptionsForm","lambdaNM":"1064","beamType":0,"initialRange":"0.0001","seed":"65688","aperture":"0.000156","diffractionWaist":"6e-05","epsilon":"5.8","gainFactor":"0.5","dispersionFactor":"1.0","lensingFactor":"1.0","modulationGainFactor":"0.0","isFactor":"10000.0","crystalShift":"8.9e-05","reportEveryStep":"100","stepsCounter":"7400"}}]


[{"name":"mb6","form":"diodeDynamicsOptionsForm","date":1763638793420,"state":0,"obj":{"name":"mb6","form":"diodeDynamicsOptionsForm","DiodeSelectSampling":0,"CalcDiodeCavityType":1,"CalcDiodeSelectMode":2,"DiodePulseWidth":"100.0","CalcDiodeSelectIntensity":0,"DiodeAbsorberShift":"0.0","DiodeGainShift":"11.0","DiodeOutputCouplerShift":"130.0","Ta":"3000.0","gain_width":"400.0","Pa":"2.48e+20","Ga":"1.024e-09","N0a":"20000000000.0","start_gain":"94400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"-10000000000.0","start_absorber":"-10000000000.0","dt":"0.9647","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"4.0","CalcDiodeUpdatePulse":0,"rand_factor_seed":"5e-10","kappa":"300000.0","C_loss":"100000000.0","C_gain":"300000000.0","coupling_out_loss":"-300000000000.0","coupling_out_gain":"-170000000000.0"}}]


[{"name":"Basic 1D","form":"multiTimeOptionsForm","date":1759043288415,"state":0,"obj":{"name":"Basic 1D","form":"multiTimeOptionsForm","lambdaNM":"1064","beamType":1,"initialRange":"0.001","seed":"34563","aperture":"0.000156","diffractionWaist":"3e-05","epsilon":"5.8","gainFactor":"0.5","dispersionFactor":"0.45","lensingFactor":"1.0","modulationGainFactor":"0.0","isFactor":"15000.0","crystalShift":"9.9e-05","reportEveryStep":"100","stepsCounter":"2000"}},{"name":"1D with 0.002 range","form":"multiTimeOptionsForm","date":1759043382551,"state":0,"obj":{"name":"1D with 0.002 range","form":"multiTimeOptionsForm","lambdaNM":"1064","beamType":1,"initialRange":"0.002","seed":"34563","aperture":"0.000156","diffractionWaist":"3e-05","epsilon":"5.8","gainFactor":"0.5","dispersionFactor":"0.45","lensingFactor":"1.0","modulationGainFactor":"0.0","isFactor":"10000.0","crystalShift":"0.0001","reportEveryStep":"100","stepsCounter":"6000"}},{"name":"Basic Radial","form":"multiTimeOptionsForm","date":1759043416311,"state":0,"obj":{"name":"Basic Radial","form":"multiTimeOptionsForm","lambdaNM":"1064","beamType":0,"initialRange":"0.0001","seed":"65688","aperture":"0.000156","diffractionWaist":"6e-05","epsilon":"5.8","gainFactor":"0.5","dispersionFactor":"1.5","lensingFactor":"1.0","modulationGainFactor":"0.0","isFactor":"10000.0","crystalShift":"9e-05","reportEveryStep":"250","stepsCounter":"5000"}},{"name":"Radial with confusing dispersion behavior","form":"multiTimeOptionsForm","date":1759043441007,"state":0,"obj":{"name":"Radial with confusing dispersion behavior","form":"multiTimeOptionsForm","lambdaNM":"1064","beamType":0,"initialRange":"0.0001","seed":"65688","aperture":"0.000156","diffractionWaist":"6e-05","epsilon":"5.8","gainFactor":"0.5","dispersionFactor":"1.0","lensingFactor":"1.0","modulationGainFactor":"0.0","isFactor":"10000.0","crystalShift":"8.9e-05","reportEveryStep":"100","stepsCounter":"7400"}},{"name":"lin amp 3 pulses","form":"diodeDynamicsOptionsForm","date":1759590745806,"state":0,"obj":{"name":"lin amp 3 pulses","form":"diodeDynamicsOptionsForm","DiodeSelectSampling":2,"CalcDiodeCavityType":1,"CalcDiodeSelectMode":1,"DiodePulseWidth":"100.0","CalcDiodeSelectIntensity":0,"DiodeAbsorberShift":"190.0","DiodeGainShift":"11.0","DiodeOutputCouplerShift":"130.0","Ta":"3000.0","gain_width":"500.0","Pa":"2.48e+19","Ga":"5.024e-09","N0a":"20000000000.0","start_gain":"74400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"30000000000.0","start_absorber":"0.0","dt":"0.2441","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"6.0","CalcDiodeUpdatePulse":0}},{"name":"Z LIN basic 2 pulses","form":"diodeDynamicsOptionsForm","date":1760254264457,"state":0,"obj":{"name":"Z LIN basic 2 pulses","form":"diodeDynamicsOptionsForm","DiodeSelectSampling":2,"CalcDiodeCavityType":1,"CalcDiodeSelectMode":0,"DiodePulseWidth":"100.0","CalcDiodeSelectIntensity":2,"DiodeAbsorberShift":"0.0","DiodeGainShift":"11.0","DiodeOutputCouplerShift":"130.0","Ta":"3000.0","gain_width":"500","Pa":"2.48e+19","Ga":"1.024e-09","N0a":"20000000000.0","start_gain":"74400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"30000000000.0","start_absorber":"0.0","dt":"0.2441","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"4.5","CalcDiodeUpdatePulse":0}},{"name":"Z LIN basic 4 pulses","form":"diodeDynamicsOptionsForm","date":1760254283712,"state":0,"obj":{"name":"Z LIN basic 4 pulses","form":"diodeDynamicsOptionsForm","DiodeSelectSampling":2,"CalcDiodeCavityType":1,"CalcDiodeSelectMode":0,"DiodePulseWidth":"100.0","CalcDiodeSelectIntensity":2,"DiodeAbsorberShift":"0.0","DiodeGainShift":"11.0","DiodeOutputCouplerShift":"130.0","Ta":"3000.0","gain_width":"500","Pa":"5.48e+19","Ga":"1.024e-09","N0a":"20000000000.0","start_gain":"74400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"30000000000.0","start_absorber":"0.0","dt":"0.2441","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"4.5","CalcDiodeUpdatePulse":0}},{"name":"MBX","form":"diodeDynamicsOptionsForm","date":1762334962324,"state":0,"obj":{"name":"MBX","form":"diodeDynamicsOptionsForm","DiodeSelectSampling":0,"CalcDiodeCavityType":1,"CalcDiodeSelectMode":2,"DiodePulseWidth":"100.0","CalcDiodeSelectIntensity":0,"DiodeAbsorberShift":"0.0","DiodeGainShift":"11.0","DiodeOutputCouplerShift":"130.0","Ta":"3000.0","gain_width":"700.0","Pa":"2.48e+19","Ga":"5.024e-09","N0a":"20000000000.0","start_gain":"94400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"-10000000000.0","start_absorber":"-10000000000.0","dt":"0.9647","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"2.5","CalcDiodeUpdatePulse":0}},{"name":"mbf","form":"diodeDynamicsOptionsForm","date":1763546781098,"state":0,"obj":{"name":"mbf","form":"diodeDynamicsOptionsForm","DiodeSelectSampling":0,"CalcDiodeCavityType":1,"CalcDiodeSelectMode":2,"DiodePulseWidth":"100.0","CalcDiodeSelectIntensity":0,"DiodeAbsorberShift":"0.0","DiodeGainShift":"11.0","DiodeOutputCouplerShift":"130.0","Ta":"3000.0","gain_width":"700.0","Pa":"2.48e+19","Ga":"5.024e-09","N0a":"20000000000.0","start_gain":"94400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"-10000000000.0","start_absorber":"-10000000000.0","dt":"0.9647","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"2.5","CalcDiodeUpdatePulse":0,"rand_factor_seed":"5e-10","kappa":"30000000.0","C_loss":"95000000.0","C_gain":"30000000.0","coupling_out_loss":"-5000000000.0","coupling_out_gain":"280000000.0"}},{"name":"mbf2","form":"diodeDynamicsOptionsForm","date":1763548958179,"state":0,"obj":{"name":"mbf2","form":"diodeDynamicsOptionsForm","DiodeSelectSampling":0,"CalcDiodeCavityType":1,"CalcDiodeSelectMode":2,"DiodePulseWidth":"50.0","CalcDiodeSelectIntensity":0,"DiodeAbsorberShift":"0.0","DiodeGainShift":"11.0","DiodeOutputCouplerShift":"130.0","Ta":"3000.0","gain_width":"700.0","Pa":"2.48e+19","Ga":"5.024e-09","N0a":"20000000000.0","start_gain":"94400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"-10000000000.0","start_absorber":"-10000000000.0","dt":"0.9647","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"2.5","CalcDiodeUpdatePulse":0,"rand_factor_seed":"10000000000.0","kappa":"10000000.0","C_loss":"1195000000.0","C_gain":"1130000000.0","coupling_out_loss":"-15000000000.0","coupling_out_gain":"-12280000000.0"}},{"name":"mbxf3","form":"diodeDynamicsOptionsForm","date":1763551593604,"state":0,"obj":{"name":"mbxf3","form":"diodeDynamicsOptionsForm","DiodeSelectSampling":0,"CalcDiodeCavityType":1,"CalcDiodeSelectMode":2,"DiodePulseWidth":"50.0","CalcDiodeSelectIntensity":0,"DiodeAbsorberShift":"0.0","DiodeGainShift":"11.0","DiodeOutputCouplerShift":"130.0","Ta":"3000.0","gain_width":"700.0","Pa":"2.48e+19","Ga":"5.024e-09","N0a":"20000000000.0","start_gain":"94400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"-10000000000.0","start_absorber":"-10000000000.0","dt":"0.9647","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"2.5","CalcDiodeUpdatePulse":0,"rand_factor_seed":"100000000000.0","kappa":"10000000.0","C_loss":"1195000000.0","C_gain":"1130000000.0","coupling_out_loss":"-15000000000.0","coupling_out_gain":"-12280000000.0"}},{"name":"mbxf4","form":"diodeDynamicsOptionsForm","date":1763552202540,"state":0,"obj":{"name":"mbxf4","form":"diodeDynamicsOptionsForm","DiodeSelectSampling":0,"CalcDiodeCavityType":1,"CalcDiodeSelectMode":2,"DiodePulseWidth":"150.0","CalcDiodeSelectIntensity":0,"DiodeAbsorberShift":"0.0","DiodeGainShift":"11.0","DiodeOutputCouplerShift":"130.0","Ta":"3000.0","gain_width":"700.0","Pa":"2.48e+19","Ga":"5.024e-09","N0a":"20000000000.0","start_gain":"94400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"-10000000000.0","start_absorber":"-10000000000.0","dt":"0.9647","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"2.5","CalcDiodeUpdatePulse":0,"rand_factor_seed":"100000000000.0","kappa":"10000000.0","C_loss":"1195000000.0","C_gain":"130000000.0","coupling_out_loss":"-15000000000.0","coupling_out_gain":"-22280000000.0"}}]

{"name":"MBN4096","form":"diodeDynamicsOptionsForm","date":1765364937772,"state":0,"obj":{"name":"MBN4096","form":"diodeDynamicsOptionsForm","DiodeSelectSampling":0,"CalcDiodeCavityType":1,"CalcDiodeSelectMode":2,"DiodePulseWidth":"100.0","CalcDiodeSelectIntensity":0,"DiodeAbsorberShift":"0.0","DiodeGainShift":"2.0","DiodeOutputCouplerShift":"130.0","Ta":"3000.0","gain_width":"100.0","Pa":"2.88e+19","Ga":"1.024e-09","N0a":"20000000000.0","start_gain":"74400000000.0","Tb":"300.0","Pb":"0.0","Gb":"8.07e-10","N0b":"-10000000000.0","start_absorber":"-10000000000.0","dt":"0.9647","volume":"1.0","initial_photons":"10000000.0","cavity_loss":"1.55","CalcDiodeUpdatePulse":0,"rand_factor_seed":"100000000000000.0","kappa":"4000.0","C_loss":"30000.0","C_gain":"30000.0","coupling_out_loss":"10000000000000.0","coupling_out_gain":"3000000000000.0"}}